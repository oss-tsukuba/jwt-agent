.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "jwt-agent" "1" "September 2, 2023" "" ""
.hy
.SH NAME
.PP
jwt-agent - Obtain and keep refreshing a JSON Web Token
.SH SYNOPSIS
.PP
\f[B]jwt-agent\f[R] [-s \f[I]URL\f[R]]\&... [-l \f[I]user\f[R]] [-f] [-t
\f[I]timeout\f[R]]
.PD 0
.P
.PD
\f[B]jwt-agent\f[R] \[en]status
.PD 0
.P
.PD
\f[B]jwt-agent\f[R] \[en]stop [-t \f[I]timeout\f[R]]
.PD 0
.P
.PD
\f[B]jwt-agent\f[R] \[en]version
.SH DESCRIPTION
.PP
\f[B]jwt-agent\f[R] obtains a JSON Web Token (JWT) from a JWT
server (https://github.com/oss-tsukuba/jwt-server.git), and keep
refreshing it not to expire.
It is running in the background unless the -f option is specified.
When the -s option is not specified, JWT_SERVER_URL environment variable
is used.
When the -l option is not specified, LOGNAME environment variable is
used.
.PP
The jwt-agent asks a passphrase at the start up to obtain a JWT, which
is provided by a JWT server.
The jwt-agent also accepts the passphrase by the standard input.
The jwt-agent does not stop unless it is explicitly shut down, or some
error happens.
.PP
By default, the jwt-agent stores a JWT at /tmp/jwt_user_u$UID/token.jwt,
which can be changed by JWT_USER_PATH environment variable.
.PP
When multiple -s options are specified, the jwt-agent atemmpts to
retrieve the JWT in order if the server is not working.
If th passphrase is incorrect, the program terminates at that point.
Also, the jwt-agent exits if all URLs are not working.
.SH OPTIONS
.TP
-s \f[I]URL\f[R]
specifies the URL of a JWT server
.TP
-l \f[I]user\f[R]
specifies a user name
.TP
-f
executes in the foreground not in the background
.TP
-t \f[I]timeout\f[R]
specifies the timeout in seconds.
Default is 60 seconds.
.TP
\[en]status
checks the running status of the jwt-agent
.TP
\[en]stop
stops the jwt-agent execution
.TP
\[en]version
displays the version number
.SH ENVIRONMENT
.TP
JWT_USER_PATH
path to the JSON Web Token.
Default is /tmp/jwt_user_u$UID/token.jwt
.TP
JWT_SERVER_URL
URL of a JWT server
