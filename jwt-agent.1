.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "jwt-agent" "1" "September 2, 2023" "" ""
.hy
.SH NAME
.PP
jwt-agent - Obtain and keep refreshing a JSON Web Token
.SH SYNOPSIS
.PP
\f[B]jwt-agent\f[R] [-s \f[I]URL\f[R]] [-l \f[I]user\f[R]] [-f] [-t
\f[I]timeout\f[R]]
.PP
\f[B]jwt-agent\f[R] \[en]status
.PP
\f[B]jwt-agent\f[R] \[en]stop [-t \f[I]timeout\f[R]]
.SH DESCRIPTION
.PP
\f[B]jwt-agent\f[R] obtains a JSON Web Token (JWT) from a JWT
server (https://github.com/oss-tsukuba/jwt-server.git), and keep
refreshing it not to expire.
It is running in the background unless the -f option is specified.
When the -s option is not specified, JWT_SERVER_URL environment variable
is used.
When the -l option is not specified, LOGNAME environment variable is
used.
.PP
The jwt-agent asks a passphrase at the start up.
The passphrase can be obtained by a JWT server.
The passphrase can be provided by the standard input.
The jwt-server does not stop unless it is explicitly stopped, or some
error happens.
.PP
By default, the jwt-server stores a JWT at
/tmp/jwt_user_u$UID/token.jwt, which can be changed by JWT_USER_PATH
environment variable.
.SH OPTIONS
.TP
-s \f[I]URL\f[R]
specifies the URL of a JWT server
.TP
-l \f[I]user\f[R]
specifies a user name
.TP
-f
executes in the foreground not in the background
.TP
-t \f[I]timeout\f[R]
specifies the timeout in seconds.
Default is 60 seconds.
.TP
\[en]status
checks the running status of the jwt-agent
.TP
\[en]stop
stops the jwt-agent execution
.SH ENVIRONMENT
.TP
JWT_USER_PATH
path to the JSON Web Token.
Default is /tmp/jwt_user_u$UID/token.jwt
.TP
JWT_SERVER_URL
URL of a JWT server
